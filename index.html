<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Building physical things</title>
  <link rel="icon" href="assets/favicon-32x32.png" type="image/png">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 0 20px;
      line-height: 1.6;
    }
    h1 {
      font-size: 1.8em;
      margin-bottom: 40px;
    }
    .entry {
      display: flex;
      margin-bottom: 30px;
    }
    .date {
      font-weight: bold;
      width: 160px;
      flex-shrink: 0;
    }
    .text {
      flex-grow: 1;
    }
    ul {
      margin: 0;
      padding-left: 0;
      list-style-position: inside;
    }
    ul ul {
      padding-left: 1em;
    }
    p, ul, li, h2, h3, h4 {
      font-family: inherit;
      font-size: 1em;
    }
    .wrap-image {
      float: right;
      margin-left: 20px;
      margin-bottom: 10px;
      width: 300px; /* adjust as needed */
      border-radius: 10px; /* optional: gives the image rounded corners */
    }
    @media (max-width: 600px) {
      .wrap-image {
        float: none;
        display: block;
        margin: 20px auto;
      }
    }
    .wrap-video {
      float: right;
      margin-left: 20px;
      margin-bottom: 10px;
      aspect-ratio: 3 / 3;
      border-radius: 10px;
      overflow: hidden;
      width: 300px;
    }
  </style>
</head>
<body>
  <h1>I am on a quest to learn how to build physical things.</h1>

  <div class="text">
      <p>I have come to believe that working in the digital realm is fun, but it is nowhere near as hard and impactful as what can be done in the physical world.</p>
      <p>Right now Iâ€™m making Waffle Bot.</p>
      <p>I make waffles for my partner every morning. Even though all I do is take them out of the freezer, toast them, and cover them in awesome toppings, I am lazy. Waffle Bot will pick them up from the toaster and move them to the plate for me.</p>
  </div>

  <div class="entry">
    <div class="date">April 6, 2025</div>
    <div class="text">
      Today I got feature extraction working from real STEP files and set up CAM toolpath logic! Below is the breakdown of the steps (pun intended). 
      <p>First learned how STEP files are set up and the type of information that's in them: everything is written in EXPRESS, and each line starts with a # and a number, and refers to a piece of information about the object (a line, surface, hole, etc). Basically, information on each component and how they are meant to be assembled together.</p>
      <p>It took me quite a while to be able to read STEP files properly. Ran into mainly compiler issues, trying to read source files as executables, for example. (Source code is the human-readable instructions written in a programming language like C++, while an executable is the machine-readable program created by compiling that source code so the computer can run it.)</p>
      <p>The main issue turned out to be goofball MacOS sandboxing my terminal & VSCode, aka not giving it permission to access my Downloads. Just had to change my settings and... voila! 1 solid, 1 shell, 61 faces, 168 edges and 112 vertices :)</p>
      <p>After that it was very easy to analyze full shape hierarchies, create a new <code>struct</code>, find feature locations in 3D space, clean up the CLI (command line interface) output, and begin to generate CAM operations based on feature characteristics.</p>
      <p>Some of the classes/enums I used were <code>BrepAdaptor_Surface</code>, <code>TopExp_Explorer</code>, <code>TopAbs_FACE</code>, <code>TopoDS_Shape</code>, <code>GeomAbs_SurfaceType</code>, <code>UVBounds()</code> and <code>.Value(u, v)</code>.</p>
      <p>THEN I decided I needed something a bit harder and got started on a visualizer - a 3D application layer so that I could render and see the toolpath, not just output lines on my terminal.</p>
      <p>Initial setup was pretty easy, I installed Qt via Homebrew and linked it with OOCT in my CMake file. I also added logic for two different executables, and additional .cpp and .hpp files to support the new popup screen. But then again I had to wrestle with quite a few errors.</p>
      <p>Specifically, <code>WNT_Window</code> was Windows only and it broke the build on my MacOS. <code>Cocoa_Window(disp, winID)</code> gave constructor mismatch, so I tried multiple things, like changing it to <code>NSView</code> and using <code>Aspect_Window</code>. I was able to solve this error, but was getting a stream of symbols instead of a proper build.</p>
    </div>
   </div>

  <div class="entry">
    <div class="date">April 5, 2025</div>
    <div class="text">
      Was extremely jet lagged as I hadn't really slept in 48h. Slept pretty much the entire day.  
    </div>
   </div>
  
  <div class="entry">
    <div class="date">April 4, 2025</div>
    <div class="text">
      Landed & surprised my brother, he's directing & starring in his first play in a public theatre. He's 15.  
    </div>
   </div>
  
  <div class="entry">
    <div class="date">April 3, 2025</div>
    <div class="text">
      Spent 10h flight to London watching a ton of YouTube videos on manufacturing, the history of machining, how metals are structured & CNC machines. Did you know that factories in the US used to be the center of the community? They used to have picnics, host events, etc. 
    </div>
   </div>

  <div class="entry">
    <div class="date">April 2, 2025</div>
    <div class="text">
      Got totally nerd sniped and spent the morning rewriting my personal website. Looks simpler, cleaner, with more accurate information.
      <p>Afternoon was a looooong debugging session. Main goal was to continue to set up the C++ computational geometry libraries that I want. Went through quite a few problems.</p>
      <p>First I realized that the OpenCascade version I'd installed from homebrew didn't have the libraries I needed. So I uninstalled that version and had to rebuild the geometry engine from the source.</p>
      <p>Downloading OpenCascade from the website from 2.5GB, so I first tried to download only the parts of it that I needed to support CAD/CAM/GD&T logic but leave out a GUI, OpenGL, viewers and doc system that would take up uneccessary space.</p>
      <p>The build succeeded, but when I ran <code>make install</code> it failed midway because it expected FreeType headers (for GUI/fonts), which werenâ€™t installed. So I deleted the build and started over with more specific CMake instructions to specifically avoid that.</p>
      <p>Then, once <code>make install</code> worked, I was still getting IntelliSense VSCode errors, and tried multiple things to troubleshoot the C++ add on, even creating an additional <code>.json</code> file.</p> 
      <p>Then I accidentaly ran <code>rm -rf</code> on not just the build folder but the entire project github repo and deleted everything like an idiot. And I hadn't pushed it.
      <p>So I had to rewrite everything, & then I had different errors with VSCode not finding specific libraries (<code>TKSTEP</code> especially). What came next was 3 more times of deleting and redownloading OpenCascade from the OG repo, each time downloading more of it until I downloaded the entire 2.5GB file. But even once I did that, it still couldn't find <code>TKSTEP</code>. I tried compiling with <code>TKDESTEP</code> instead and it worked.</p> 
    </div>
   </div>

  <div class="entry">
    <div class="date">April 1, 2025</div>
    <div class="text">
      Set up GitHub repo structure (<code>models/</code>, <code>src/</code>, <code>main.cpp</code>, <code>bin/</code>, etc). Installed CMake and wrote <code>CMakeLists.txt</code> file.
      <p>Learned about different compilers (Clang, GCC, Visual Studio) and configured Clang because I use Mac, itâ€™s preinstalled, will produce faster & more optimized binaries, and has better diagnostics (error & warning messages).</p>
      <p>Spent a loooong time trying to solve a bug wherein the compiler couldn't find OpenCascade header files (specifically gp_Pnt.hxx). </p>
      <p>Some approaches I took were: verifying that files existed, manually setting the include and library paths, reconfiguring VSCode IntelliSense, rewriting the .json files, adding fallback include paths, testing manual compilation, etc.</p>
      <p>What ended up working was changing the include statement in the <code>main.cpp/</code> file. A tiny and simple fix that took a long time to get to and was so satisfying in the end.</p>
    </div>
  </div>

  <div class="entry">
    <div class="date">March 31, 2025</div>
    <div class="text">
      <img src="assets/fusion360.png" class="wrap-image">
      Set up dev environment for CAM, to take my CAD files to the next level. 
      <p>Installed Fusion360, CadQuery & a CadQuery GUI Editor. The Editor looked like it was from 2007. In the process downloaded and learned how to use Conda, and then realized that CadQuery is just a Python wrapper around OpenCascade.</p>
      <p>Downloaded OpenCascade and wrote C++ in VSCode.</p>
      <p>Exported a STL file from Waffle Bot's Onshape environment into Fusion 360, converted it into a mesh, and simulated 2D Pockets & Contour (wow this is so cool).</p>
      <p>Exported the toolpath as g-code, read it in VSCode, and visualized it in NV Viewer!!</p>
    </div>
  </div>

  <div class="entry">
    <div class="date">March 30, 2025</div>
    <div class="text">
      <img src="assets/newsetup.png" class="wrap-image" alt="Waffle Bot">
      Spent 4h organizing my flat and unpacking everything I hadn't unpacked since I moved. Environment makes a huge difference. It was a mess and took way longer than I thought but now it looks sick. Yeah, I can lock myself in here to build 24/7 ðŸ˜Ž
      <p>Added details and entries for the last week on this site. Went through 3 iterations to implement proper image, bullet point and paragraph formatting. It took time to compile all of the information into the log, it will go so much faster in the future as I just update it daily.</p>
      <p>3D printed the leverage robot arm so that I could study it in real life. (It had the STL but not the STEP files so I couldn't really see what was going on.)</p>
    </div>
  </div>
  
  <div class="entry">
    <div class="date">March 29, 2025</div>
    <div class="text">
      Most of the day was spent debugging servo connection to the Raspberry Pi. After battling with improper grounding, dead or zombie servos, power starvation and weak jumper wires, I was able to wire a DC power supply to the servos that survived (RIP 4 HS-311s that I probably broke by twisting them around too much during assembly). Now I know how to diagnose low/no current draw conditions, debug power delivery with a bench supply, PWM logic and signal grounding.</p>
      <p>Even with a few servos working with the extra power supply, they were still too weak to move the arm. I spent the rest of the evening looking at other robot models to base my redesign off of. I <a href="https://www.youtube.com/watch?v=lzpDfuEe7JU" target="_blank" rel="noopener noreferrer">found one</a> that uses servos at the base + a lot of leverage, and decided to use that one as my example for v2.</p>
      <p>I designed servo hats for MG995s, two versions of a v2 arm component, and 1 version of the v2 base.</p>
    </div>
  </div>

  <div class="entry">
    <div class="date">March 28, 2025</div>
    <div class="text">
      <img src="assets/wafflebotv1.png" class="wrap-image">
      Finished first full version of the WaffleBot, assembled and connected it to the Raspberry Pi, and found that the HS-311 servos did not have enough torque / arm was too heavy so they couldn't lift it up properly.
      <p>Also spent 3.5h in the morning at a contract manufacturer seeing every step of the PCBA process, including BOM, procurement, SMT assembly, stencil printing, pick-and-place, ovens longer than my bedroom, through-hole, optical inspection and more.</p>
      <p>This CM sets themselves apart by always shipping their products on time and having a rework rate of <0.1%. For reference, most CMs have rework rates in the mid-double digits and are regularly 6-8 weeks late. The guys I visited are of the highest caliber.</p>
      <p>Their trick is to have tests and checks at every single step of the process. It is actually not adding more work - it saves time and money by catching mistakes as early as possible.</p>
      <p>My host had been brought in to increase efficiency of the factory by automating as much as possible. I haven't met anyone with more integrity or craft. He carefully explained to me the parts of the process that need to be done by hand, and others that could be automated. He let me sit in on meetings where he trained his team and developed software towards these goals. The most curious thing I noticed was that he always asked how much time something took, and his employees responded down to the minute, usually between 2-15.</p>
    </div>
  </div>

  <div class="entry">
    <div class="date">March 27, 2025</div>
    <div class="text">
      <video controls loop class="wrap-video">
        <source src="assets/gripperv2.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      Found a different gripper online, 3D printed and assembled it, designed the wrist joint and mount that it would attach to.
      <p>Ordered additional M1 screws for horns and sticky soles that I can add to the robot base to make it even sturdier.</p> 
      <p>Discovered the mirror tool in CAD which makes my 2D drawings so much faster.</p>
    </div>
  </div>

  <div class="entry">
    <div class="date">March 26, 2025</div>
    <div class="text">
      <img src="assets/firstarmpart.png" class="wrap-image">
      Am finding locking a bit difficult. So far am designing all of the components with holes for screws and manually screwing them in with hex nuts on the other side, but sometimes the parts are so small that it gets inconvenient to attach them. Don't quite understand yet how to drop a lock nut into a print / make threaded inserts, but I don't think I'll need that for this version.
      <p>Designed and added the first part of the arm to the assembly.</p>
      <p>Also designed the elbow and second arm part.</p>
    </div>
  </div>

  <div class="entry">
    <div class="date">March 25, 2025</div>
    <div class="text">
      <img src="assets/basev2.png" class="wrap-image">
      Learned how to design parts in context and import STEP files of specific components from the internet. Also learned fasten/revolute mates and made my first assembly. 
      <p>Learned how to make holes in CAD. Game changer.</p>
      <p>Built v2 of the Waffle Bot base, this time not just a cubic block of PLA with a rectangular cavity in it (lol) but one properly optimized for sturdiness, attachment to the servo and quick 3d printing. Also designed my own servo horns because I didn't have small enough screws for the ones that came with my servos. Went through 3 versions. Was able to create ridges that attached onto the servo perfectly.</p>
    </div>
  </div>

  <div class="entry">
    <div class="date">March 24, 2025</div>
    <div class="text">
      <img src="assets/wafflebotv0.png" class="wrap-image">
      I had pain in my hip which turned out to be a torn labrum so I spent the last few days in the hospital / battling with insurance / getting ortho advice / recovering. So the last few days are blank but now I'm back!
      <p>Sketched out how Waffle Bot needs to look like and made some measurements relative to the size of the toaster and a waffle. Realized 3DOF will make it very hard for Waffle Bot to pick up waffles so I started working on a 5 DOF design.</p>
    </div>
  </div>

  <div class="entry">
    <div class="date">March 18, 2025</div>
    <div class="text">
      Read up on DOF and studied how others have built their robots. I decided I want to start as simple as possible with 3 DOF.
    </div>
  </div>

  <div class="entry">
    <div class="date">March 17, 2025</div>
    <div class="text">
      Got bogged down trying to assemble the servo gripper before realizing the print was missing two parts. Even after printing those wasnâ€™t able to assemble it, turned out that the stl design was faulty and the holes for screws and hex nuts were size mismatched. Don't trust the internet I guess.
    </div>
  </div>

  <div class="entry">
    <div class="date">March 16, 2025</div>
    <div class="text">
      Downloaded and set up Raspberry Pi environment. To do that I first pinged RPi via local host name on my network, then via IP address.
      <p>Set up shortcuts to be able to securely SSH instantly. Used ZeroTier to connect my Pi to a network ID, generated a new private & public key, renamed the RPi localhost and set up passwordless login. Set up first test <code>.py</code> and <code>.txt</code> files.</p>
      <p>Printed a servo gripper off the internet and 1/4 of all <a href="https://github.com/huggingface/lerobot" target="_blank" rel="noopener noreferrer">LeRobot</a> components and then realized I donâ€™t have the right motors or a few other pieces. Ordered them, but some parts will take ~2 weeks to arrive. Decided to design my own robot from scratch.</p>
    </div>
  </div>

  <div class="entry">
    <div class="date">March 15, 2025</div>
    <div class="text">
      Assembled my BambuLab 3d printer!
    </div>
  </div>

</body>
</html>
